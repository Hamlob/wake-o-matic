<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wake-o-matic: FrameProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wake-o-matic
   &#160;<span id="projectnumber">V1.0</span>
   </div>
   <div id="projectbrief">A project dedicated to keeping drivers alert and safe. https://linktr.ee/wakeomatic</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classFrameProcessor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classFrameProcessor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FrameProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The frameProcessor class handles the detection of the driver eye status.  
 <a href="classFrameProcessor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="frameProcessor_8h_source.html">frameProcessor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1d220ffa9eafb8180ee07b8d939db5bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrameProcessor.html#a1d220ffa9eafb8180ee07b8d939db5bb">start</a> ()</td></tr>
<tr class="memdesc:a1d220ffa9eafb8180ee07b8d939db5bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the frameProcessing in separate thread.  <a href="classFrameProcessor.html#a1d220ffa9eafb8180ee07b8d939db5bb">More...</a><br /></td></tr>
<tr class="separator:a1d220ffa9eafb8180ee07b8d939db5bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921f2ca1f5b988526d3064fd63ddb185"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrameProcessor.html#a921f2ca1f5b988526d3064fd63ddb185">stop</a> ()</td></tr>
<tr class="memdesc:a921f2ca1f5b988526d3064fd63ddb185"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the frame processing thread.  <a href="classFrameProcessor.html#a921f2ca1f5b988526d3064fd63ddb185">More...</a><br /></td></tr>
<tr class="separator:a921f2ca1f5b988526d3064fd63ddb185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84079c91093caa426ca43e2e2c87272f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrameProcessor.html#a84079c91093caa426ca43e2e2c87272f">FrameProcessor</a> (std::string faceCascadePath=&quot;../src/data/haarcascade_frontalface_alt.xml&quot;, std::string eyeCascadePath=&quot;../src/data/haarcascade_eye.xml&quot;)</td></tr>
<tr class="memdesc:a84079c91093caa426ca43e2e2c87272f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor loads the cascade classifiers and prints an error if they are not loaded correctly.  <a href="classFrameProcessor.html#a84079c91093caa426ca43e2e2c87272f">More...</a><br /></td></tr>
<tr class="separator:a84079c91093caa426ca43e2e2c87272f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119c3a089e9c22a91fd5b6e5283b930d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFrameProcessor.html#a119c3a089e9c22a91fd5b6e5283b930d">processFrame</a> (Mat &amp;frame)</td></tr>
<tr class="memdesc:a119c3a089e9c22a91fd5b6e5283b930d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyzes the frame and returns corresponding value for open, closed eyes or driver not detected.  <a href="classFrameProcessor.html#a119c3a089e9c22a91fd5b6e5283b930d">More...</a><br /></td></tr>
<tr class="separator:a119c3a089e9c22a91fd5b6e5283b930d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The frameProcessor class handles the detection of the driver eye status. </p>
<p>It runs in a separate thread and waits for the frames from the camera. When a frame is ready, it detects the positions of the eyes and calls </p><dl class="section see"><dt>See also</dt><dd>eyeStatus class with the images of just the eyes. Depends on the output of the eyeStatus, the frameProcessor stores the status of the eyes for each frame in global queue. It also handles the case where no face is detected, or no eyes are detected but face is. The values stored in queue are 1 for eyes open, 0 for eyes closed/not found, -1 for no face detected. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a84079c91093caa426ca43e2e2c87272f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84079c91093caa426ca43e2e2c87272f">&#9670;&nbsp;</a></span>FrameProcessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FrameProcessor::FrameProcessor </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>faceCascadePath</em> = <code>&quot;../src/data/haarcascade_frontalface_alt.xml&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>eyeCascadePath</em> = <code>&quot;../src/data/haarcascade_eye.xml&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constructor loads the cascade classifiers and prints an error if they are not loaded correctly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">faceCascadePath</td><td>Path to the face cascade file </td></tr>
    <tr><td class="paramname">eyeCascadePath</td><td>Path to the eye cascade file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a119c3a089e9c22a91fd5b6e5283b930d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a119c3a089e9c22a91fd5b6e5283b930d">&#9670;&nbsp;</a></span>processFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FrameProcessor::processFrame </td>
          <td>(</td>
          <td class="paramtype">Mat &amp;&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Analyzes the frame and returns corresponding value for open, closed eyes or driver not detected. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>The picture of the camera containing the driver. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Returns 1 if the driver has eyes open, 0 if eyes closed, and -1 if the driver is not detected. </dd></dl>

</div>
</div>
<a id="a1d220ffa9eafb8180ee07b8d939db5bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d220ffa9eafb8180ee07b8d939db5bb">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FrameProcessor::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the frameProcessing in separate thread. </p>

</div>
</div>
<a id="a921f2ca1f5b988526d3064fd63ddb185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921f2ca1f5b988526d3064fd63ddb185">&#9670;&nbsp;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FrameProcessor::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the frame processing thread. </p>
<p>Frees thread resources and stops processing, must be called prior to program exit. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/modules/<a class="el" href="frameProcessor_8h_source.html">frameProcessor.h</a></li>
<li>src/modules/<a class="el" href="frameProcessor_8cpp.html">frameProcessor.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classFrameProcessor.html">FrameProcessor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
